(function(e){function t(t){for(var n,a,i=t[0],u=t[1],c=t[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},s=[];function a(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8e15da4b"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=n);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=a(e);var c=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(l);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,r[1](c)}o[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"27dc":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="4678"},5190:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/login"}},[e._v("Login / Signup")]),e._v("| "),r("router-link",{attrs:{to:"/toy-app"}},[e._v("Mister-Toy")]),e._v(" | "),r("router-link",{attrs:{to:"/toy/dashboard"}},[e._v("Dashboard")]),e._v(" | "),r("router-link",{attrs:{to:"/reviews"}},[e._v("review Explorer")]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v("| "),e.loggedInUser?r("section",{staticClass:"loggedin-user"},[e._v(" Hello "+e._s(e.loggedInUser.fullname)+" | "),r("span",[e._v(e._s(e.loggedInUser.score))])]):e._e()],1),r("router-view")],1)},s=[],a={computed:{loggedInUser:function(){return this.$store.getters.loggedinUser}}},i=a,u=(r("034f"),r("2877")),c=Object(u["a"])(i,o,s,!1,null,null,null),l=c.exports,d=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},f=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))])])},m=[],g={name:"HelloWorld",props:{msg:String}},h=g,y=(r("a028"),Object(u["a"])(h,v,m,!1,null,"32546140",null)),b=y.exports,w={name:"Home",components:{HelloWorld:b}},j=w,_=Object(u["a"])(j,p,f,!1,null,null,null),k=_.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-details"},[e.toy?r("section",{staticClass:"toy-details-container"},[r("h1",[e._v("ID:"+e._s(e.toy._id))]),r("h2",[e._v("NAME:"+e._s(e.toy.name))]),r("h3",[e._v("PRICE:"+e._s(e.toy.price))]),r("article",[r("h1",[e._v("Review:")]),r("br"),e._v(" "+e._s(e.toy.review)+" ")]),e.toy.inStock?r("p",[e._v("In Stock")]):e._e()]):e._e(),r("section",{staticClass:"reviews"},[r("ul",{staticClass:"review-list"},e._l(e.reviews,(function(t){return r("li",{key:t._id},[r("h3",[e._v(e._s(t.txt))]),r("p",[e._v(" By "),e._v(" "+e._s(t.byUser.fullname)+" ")]),r("hr")])})),0),r("hr"),e.loggedInUser?r("form",{on:{submit:function(t){return t.preventDefault(),e.addReview()}}},[r("h2",[e._v("Your review of this game:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.txt,expression:"reviewToEdit.txt"}],attrs:{placeholder:"Your Opinion Matters..."},domProps:{value:e.reviewToEdit.txt},on:{input:function(t){t.target.composing||e.$set(e.reviewToEdit,"txt",t.target.value)}}}),r("button",[e._v("Save")])]):e._e()])])},R=[],S=r("1da1"),O=(r("96cf"),r("4de4"),r("bc3a")),C=r.n(O),U=C.a.create({withCredentials:!0}),$="/api/toy",I={query:E,getById:B,remove:A,save:P,getEmptyToy:F};function E(){return T.apply(this,arguments)}function T(){return T=Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.get($);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function B(e){return L.apply(this,arguments)}function L(){return L=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.get($+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function A(e){return N.apply(this,arguments)}function N(){return N=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.delete($+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function P(e){return z.apply(this,arguments)}function z(){return z=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t._id){e.next=8;break}return console.log("i am here"),e.next=4,U.put($+t._id,t);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.next=10,U.post($,t);case 10:return n=e.sent,e.abrupt("return",n.data);case 12:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return{_id:"",name:e,price:t,labels:[],createdAt:null,inStock:!1,review:"good toy"}}var D,M,q={name:"toy-details",data:function(){return{toy:null,reviewToEdit:{txt:"",aboutGameId:null}}},created:function(){var e=this,t=this.$route.params.toyId;I.getById(t).then((function(r){e.toy=r,e.reviewToEdit.aboutGameId=t})),this.$store.dispatch({type:"loadReviews"})},computed:{reviews:function(){var e=this;return this.$store.getters.reviews.filter((function(t){return t.aboutGameId===e.$route.params.toyId}))},loggedInUser:function(){return this.$store.getters.loggedinUser}},methods:{addReview:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"addReview",review:e.reviewToEdit});case 2:e.reviewToEdit={txt:"",aboutGameId:null};case 3:case"end":return t.stop()}}),t)})))()}}},G=q,W=Object(u["a"])(G,x,R,!1,null,null,null),H=W.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-edit"},[r("h3",[e._v("Edit the Toy")]),r("div",{staticClass:"edit-from"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.saveToy.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.name,expression:"toy.name"}],attrs:{type:"text",maxlength:"20",placeholder:"toy name:"},domProps:{value:e.toy.name},on:{input:function(t){t.target.composing||e.$set(e.toy,"name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.price,expression:"toy.price"}],attrs:{type:"number",placeholder:"price"},domProps:{value:e.toy.price},on:{input:function(t){t.target.composing||e.$set(e.toy,"price",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.inStock,expression:"toy.inStock"}],attrs:{type:"checkbox",id:"stock",name:"in-stock",value:"inStock"},domProps:{checked:Array.isArray(e.toy.inStock)?e._i(e.toy.inStock,"inStock")>-1:e.toy.inStock},on:{change:function(t){var r=e.toy.inStock,n=t.target,o=!!n.checked;if(Array.isArray(r)){var s="inStock",a=e._i(r,s);n.checked?a<0&&e.$set(e.toy,"inStock",r.concat([s])):a>-1&&e.$set(e.toy,"inStock",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.toy,"inStock",o)}}}),r("label",{attrs:{for:"inStock"}},[e._v("In Stock")]),r("button",[e._v("Save")])])])])},Y=[],V=(r("e9c4"),{name:"toy-edit",data:function(){return{toy:{name:"",price:""}}},created:function(){this.getToyById()},methods:{getToyById:function(){var e=this,t=this.$route.params.toyId;t?this.$store.dispatch({type:"getToyById",toyId:t}).then((function(t){var r=JSON.parse(JSON.stringify(t));e.toy=r})):this.toy=I.getEmptyToy()},saveToy:function(){var e=this.toy;e._id?this.$store.dispatch({type:"updateToy",toy:e}):this.$store.dispatch({type:"addToy",toy:e}),this.$router.push("/toy-app")}}}),X=V,K=Object(u["a"])(X,J,Y,!1,null,null,null),Q=K.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-details"},[r("p",{staticClass:"toy-filter"},[e._v("Filter By:")]),r("toy-filter",{on:{filter:e.setFilter}}),r("router-link",{attrs:{to:"/toy/edit"}},[e._v("Add new Toy")]),e.isLoading?r("p",[e._v("Loading ....")]):r("toy-list",{attrs:{toys:e.getToys},on:{remove:e.removeToy}})],1)},ee=[],te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-list"},[r("ul",{staticClass:"toy-list"},e._l(e.toys,(function(t){return r("li",{key:t._id,staticClass:"toy-preview-container"},[r("toy-preview",{attrs:{toy:t}}),r("div",{staticClass:"btns-container"},[r("button",{on:{click:function(r){return e.remove(t._id)}}},[e._v("X")]),r("router-link",{attrs:{to:"/toy/"+t._id}},[e._v("Details")]),r("router-link",{attrs:{to:"/toy/edit/"+t._id}},[e._v("Edit")])],1)],1)})),0)])},re=[],ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-preview"},[r("h2",[e._v("🎮")]),r("p",[e._v("name: "+e._s(e.toy.name))]),r("p",[e._v("price: "+e._s(e.toy.price))]),r("article",[r("h1",[e._v("Review:")]),r("br"),e._v(" "+e._s(e.toy.review)+" ")])])},oe=[],se={name:"toy-preview",props:{toy:Object},methods:{}},ae=se,ie=Object(u["a"])(ae,ne,oe,!1,null,null,null),ue=ie.exports,ce={name:"toy-list",props:{toys:Array},methods:{remove:function(e){this.$emit("remove",e)}},components:{toyPreview:ue}},le=ce,de=Object(u["a"])(le,te,re,!1,null,null,null),pe=de.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toy-filter"},[r("p",[e._v("Name:")]),r("el-input",{attrs:{type:"text",placeholder:"Search Game"},on:{input:e.setFilter},model:{value:e.filterBy.name,callback:function(t){e.$set(e.filterBy,"name",t)},expression:"filterBy.name"}}),r("p",[e._v("Status:")]),r("el-select",{attrs:{placeholder:"Select"},on:{change:e.setFilter},model:{value:e.filterBy.status,callback:function(t){e.$set(e.filterBy,"status",t)},expression:"filterBy.status"}},e._l(e.filterOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.label,expression:"filterBy.label"}],attrs:{list:"labels",id:"label-choices",name:"label-choice"},domProps:{value:e.filterBy.label},on:{input:function(t){t.target.composing||e.$set(e.filterBy,"label",t.target.value)}}}),r("datalist",{attrs:{id:"labels"},on:{change:e.setFilter}},[r("option",{attrs:{value:"Doll"}}),r("option",{attrs:{value:"Action"}}),r("option",{attrs:{value:"Battery"}})]),e._v(" Sort By: "),r("el-select",{attrs:{placeholder:"Sort By"},on:{change:e.setFilter},model:{value:e.filterBy.sortBy,callback:function(t){e.$set(e.filterBy,"sortBy",t)},expression:"filterBy.sortBy"}},e._l(e.sortOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},ve=[],me=r("5530"),ge={name:"toy-preview",props:{toy:Object},data:function(){return{filterBy:{title:"",status:"all",label:"",sortBy:"name"},filterOptions:[{value:"all",label:"All"},{value:"inStock",label:"In Stock"},{value:"notInStock",label:"Not In Stock"}],sortOptions:[{value:"name",label:"Name"},{value:"price",label:"Price"},{value:"created",label:"Creation"}]}},methods:{setFilter:function(){this.$emit("filter",Object(me["a"])({},this.filterBy))}}},he=ge,ye=Object(u["a"])(he,fe,ve,!1,null,null,null),be=ye.exports,we={name:"toy-app",data:function(){return{}},created:function(){},methods:{removeToy:function(e){this.$store.dispatch({type:"removeToy",toyId:e}).then((function(){})).catch((function(){}))},setFilter:function(e){this.$store.commit({type:"setFilter",filterBy:e})}},computed:{getToys:function(){return this.$store.getters.getFilteredToys},isLoading:function(){return this.$store.getters.isLoading}},components:{toyList:pe,toyFilter:be}},je=we,_e=Object(u["a"])(je,Z,ee,!1,null,null,null),ke=_e.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("chart",{staticClass:"chart"})},Re=[],Se=r("1fca"),Oe={extends:Se["a"],mounted:function(){console.log("hi"),this.renderChart({labels:["In Stock","Not in Stock"],datasets:[{label:"GitHub Commits",backgroundColor:["green","red"],data:[this.$store.getters.inStockNum,this.$store.getters.toysNum-this.$store.getters.inStockNum]}]})}},Ce=Oe,Ue=Object(u["a"])(Ce,D,M,!1,null,null,null),$e=Ue.exports,Ie={components:{chart:$e}},Ee=Ie,Te=(r("99f1"),Object(u["a"])(Ee,xe,Re,!1,null,null,null)),Be=Te.exports,Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container about"},[r("p",[e._v(e._s(e.msg))]),e.loggedinUser?r("div",[r("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" "),r("button",{on:{click:e.doLogout}},[e._v("Logout")])]),r("span",[e._v("Your reviews adon:")]),r("ul",{staticClass:"review-list"},e._l(e.reviews,(function(t){return r("li",{key:t._id},[r("h3",[e._v(e._s(t.txt))]),r("p",[e._v(" By "),e._v(" "+e._s(t.byUser.fullname)+" ")]),r("hr")])})),0)]):r("div",[r("h2",[e._v("Login")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.doLogin.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.username,expression:"loginCred.username"}],attrs:{type:"text",placeholder:"User name"},domProps:{value:e.loginCred.username},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),r("button",[e._v("Login")])]),r("p",{staticClass:"mute"},[e._v("user1 or admin, pass:123")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.doSignup.apply(null,arguments)}}},[r("h2",[e._v("Signup")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.fullname,expression:"signupCred.fullname"}],attrs:{type:"text",placeholder:"Your full name"},domProps:{value:e.signupCred.fullname},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"fullname",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}}),r("button",[e._v("Signup")])])]),r("hr"),e.isAdmin?r("details",[r("summary",[e._v("Admin Section")]),r("ul",e._l(e.users,(function(t){return r("li",{key:t._id},[r("pre",[e._v(e._s(t))]),r("button",{on:{click:function(r){return e.removeUser(t._id)}}},[e._v("x")])])})),0)]):e._e()])},Ae=[],Ne={name:"test",data:function(){return{msg:"",loginCred:{username:"user1",password:"123"},signupCred:{username:"",password:"",fullname:""},isAdmin:this.evalAdmin()}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser},reviews:function(){var e=this;return this.$store.getters.reviews.filter((function(t){return t.byUserId===e.$store.getters.loggedinUser._id}))}},created:function(){this.loadUsers()},methods:{evalAdmin:function(){var e=this.$store.getters.loggedinUser;return!!e&&e.isAdmin},doLogin:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loginCred.username&&e.loginCred.password){t.next=3;break}return e.msg="Please enter username/password",t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$store.dispatch({type:"login",userCred:e.loginCred});case 6:e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log(t.t0),e.msg="Failed to login";case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))()},doLogout:function(){this.$store.dispatch({type:"logout"}),this.isAdmin=!1},doSignup:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.signupCred.fullname&&e.signupCred.password&&e.signupCred.username){t.next=3;break}return e.msg="Please fill up the form",t.abrupt("return");case 3:return t.next=5,e.$store.dispatch({type:"signup",userCred:e.signupCred});case 5:e.$router.push("/");case 6:case"end":return t.stop()}}),t)})))()},loadUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(e){var t=this;return Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch({type:"removeUser",userId:e});case 3:t.msg="User removed",r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),t.msg="Failed to remove user";case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},Pe=Ne,ze=Object(u["a"])(Pe,Le,Ae,!1,null,null,null),Fe=ze.exports,De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"reviews"},[r("ul",{staticClass:"review-list"},e._l(e.reviews,(function(t){return r("li",{key:t._id},[r("h3",[e._v(e._s(t.txt))]),r("p",[e._v(" By "),e._v(" "+e._s(t.byUser.fullname)+" ")]),r("hr")])})),0)])},Me=[],qe={name:"toy-reviews",data:function(){return{}},created:function(){this.$store.dispatch({type:"loadReviews"})},computed:{reviews:function(){return this.$store.getters.reviews}},methods:{}},Ge=qe,We=Object(u["a"])(Ge,De,Me,!1,null,null,null),He=We.exports;n["default"].use(d["a"]);var Je=[{path:"/",name:"Home",component:k},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/login",name:"loginSignup",component:Fe},{path:"/toy-app",name:"toy-app",component:ke},{path:"/toy/dashboard",name:"toy-dashboard",component:Be},{path:"/toy/edit/:toyId?",name:"toy-edit",component:Q},{path:"/toy/:toyId",name:"toy-details",component:H},{path:"/reviews",name:"review-explorer",component:He}],Ye=new d["a"]({routes:Je}),Ve=Ye,Xe=(r("c740"),r("a434"),r("159b"),r("b0c0"),r("caad"),r("2532"),r("4e82"),r("2f62")),Ke=(r("7db0"),{query:Qe,get:Ze,post:et,put:tt,remove:rt});function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=JSON.parse(localStorage.getItem(e))||[];return new Promise((function(e){setTimeout((function(){e(r)}),t)}))}function Ze(e,t){return Qe(e).then((function(e){return e.find((function(e){return e._id===t}))}))}function et(e,t){return t._id=ot(),Qe(e).then((function(r){return r.push(t),nt(e,r),t}))}function tt(e,t){return Qe(e).then((function(r){var n=r.findIndex((function(e){return e._id===t._id}));return r.splice(n,1,t),nt(e,r),t}))}function rt(e,t){return Qe(e).then((function(r){var n=r.findIndex((function(e){return e._id===t}));if(n<0)throw new Error("Unknown Entity ".concat(t));r.splice(n,1),nt(e,r)}))}function nt(e,t){localStorage.setItem(e,JSON.stringify(t))}function ot(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}r("99af");var st="/api/",at=C.a.create({withCredentials:!0}),it={get:function(e,t){return ut(e,"GET",t)},post:function(e,t){return ut(e,"POST",t)},put:function(e,t){return ut(e,"PUT",t)},delete:function(e,t){return ut(e,"DELETE",t)}};function ut(e){return ct.apply(this,arguments)}function ct(){return ct=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,at({url:"".concat(st).concat(t),method:r,data:n,params:"GET"===r?n:null});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(t,", with data:"),n),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&(void 0).push("/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),ct.apply(this,arguments)}var lt="loggedinUser",dt=null,pt={login:bt,logout:kt,signup:jt,getLoggedinUser:Ct,getUsers:ft,getById:vt,remove:gt,update:ht,changeScore:Rt};function ft(){return it.get("user")}function vt(e){return mt.apply(this,arguments)}function mt(){return mt=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it.get("user/".concat(t));case 2:return r=e.sent,dt=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),mt.apply(this,arguments)}function gt(e){return it.delete("user/".concat(e))}function ht(e){return yt.apply(this,arguments)}function yt(){return yt=Object(S["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it.put("user/".concat(t._id),t);case 2:return t=e.sent,Ct()._id===t._id&&Ot(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}function bt(e){return wt.apply(this,arguments)}function wt(){return wt=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it.post("auth/login",t);case 2:if(r=e.sent,!r){e.next=5;break}return e.abrupt("return",Ot(r));case 5:case"end":return e.stop()}}),e)}))),wt.apply(this,arguments)}function jt(e){return _t.apply(this,arguments)}function _t(){return _t=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",Ot(r));case 4:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function kt(){return xt.apply(this,arguments)}function xt(){return xt=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return sessionStorage.removeItem(lt),e.next=3,it.post("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}function Rt(e){return St.apply(this,arguments)}function St(){return St=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Ct(),r){e.next=3;break}throw new Error("Not loggedin");case 3:return r.score=r.score+t||t,e.next=6,ht(r);case 6:return e.abrupt("return",r.score);case 7:case"end":return e.stop()}}),e)}))),St.apply(this,arguments)}function Ot(e){return sessionStorage.setItem(lt,JSON.stringify(e)),e}function Ct(){return JSON.parse(sessionStorage.getItem(lt)||"null")}window.userService=pt,Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.addEventListener("storage",Object(S["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(dt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ke.query("user");case 4:if(t=e.sent,r=t.find((function(e){return e._id===dt._id})),r){e.next=8;break}return e.abrupt("return");case 8:dt.score!==r.score&&console.log("Watched user score changed - localStorage updated from another browser"),dt=r;case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))();var Ut={state:{loggedinUser:pt.getLoggedinUser(),users:[],watchedUser:null},getters:{users:function(e){var t=e.users;return t},loggedinUser:function(e){var t=e.loggedinUser;return t},watchedUser:function(e){var t=e.watchedUser;return t}},mutations:{setLoggedinUser:function(e,t){var r=t.user;e.loggedinUser=r?Object(me["a"])({},r):null},setWatchedUser:function(e,t){var r=t.user;e.watchedUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))},setUserScore:function(e,t){var r=t.score;e.loggedinUser.score=r}},actions:{login:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.userCred,r.prev=2,r.next=5,pt.login(o);case 5:return s=r.sent,console.log(s),n({type:"setLoggedinUser",user:s}),r.abrupt("return",s);case 11:throw r.prev=11,r.t0=r["catch"](2),console.log("userStore: Error in login",r.t0),r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},signup:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.userCred,r.prev=2,r.next=5,pt.signup(o);case 5:return s=r.sent,n({type:"setLoggedinUser",user:s}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in signup",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},logout:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,pt.logout();case 4:r({type:"setLoggedinUser",user:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log("userStore: Error in logout",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},loadUsers:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,pt.getUsers();case 4:n=t.sent,r({type:"setUsers",users:n}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in loadUsers",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},loadAndWatchUser:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.userId,r.prev=2,r.next=5,pt.getById(o);case 5:s=r.sent,n({type:"setWatchedUser",user:s}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("userStore: Error in loadAndWatchUser",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},removeUser:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.userId,r.prev=2,r.next=5,pt.remove(o);case 5:n({type:"removeUser",userId:o}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("userStore: Error in removeUser",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateUser:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.user,r.prev=2,r.next=5,pt.update(o);case 5:o=r.sent,n({type:"setUser",user:o}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("userStore: Error in updateUser",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},increaseScore:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,pt.changeScore(100);case 4:n=t.sent,r({type:"setUserScore",score:n}),t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](1),console.log("userStore: Error in increaseScore",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},$t=r("2909"),It=(r("daa8"),"review-added"),Et="review-about-you",Tt=Bt();function Bt(){var e={},t={listenersMap:e,setup:function(){e={}},terminate:function(){this.setup()},on:function(t,r){e[t]=[].concat(Object($t["a"])(e[t]||[]),[r])},off:function(t,r){e[t]&&(r?e[t]=e[t].filter((function(e){return e!==r})):delete e[t])},emit:function(t,r){e[t]&&e[t].forEach((function(e){e(r)}))},debugMsg:function(){this.emit("chat addMsg",{from:"Someone",txt:"Aha it worked!"})}};return t}window.socketService=Tt,Tt.setup();var Lt={add:Pt,query:At,remove:Nt};function At(e){var t=e?"?name=".concat(e.name,"&sort=anaAref"):"";return it.get("review".concat(t))}function Nt(e){return it.delete("review/".concat(e))}function Pt(e){return zt.apply(this,arguments)}function zt(){return zt=Object(S["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,it.post("review",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}Object(S["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke.query("review");case 2:t=e.sent,window.addEventListener("storage",Object(S["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Storage updated"),e.next=3,Ke.query("review");case 3:r=e.sent,r.length===t.length+1&&(console.log("Review Added - localStorage updated from another browser"),Tt.emit(It,r[r.length-1])),t=r;case 6:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))();var Ft={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var r=t.reviews;e.reviews=r},addReview:function(e,t){var r=t.review;e.reviews.push(r)},removeReview:function(e,t){var r=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==r}))}},actions:{addReview:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.review,r.prev=1,r.next=4,Lt.add(n);case 4:return n=r.sent,e.commit({type:"addReview",review:n}),e.dispatch({type:"increaseScore"}),r.abrupt("return",n);case 10:throw r.prev=10,r.t0=r["catch"](1),console.log("reviewStore: Error in addReview",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},loadReviews:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.query();case 3:r=t.sent,e.commit({type:"setReviews",reviews:r}),Tt.off(It),Tt.on(It,(function(t){console.log("Got review from socket",t),e.commit({type:"addReview",review:t})})),Tt.off(Et),Tt.on(Et,(function(e){console.log("Review about me!",e)})),t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](0),console.log("reviewStore: Error in loadReviews",t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},removeReview:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.reviewId,r.prev=1,r.next=4,Lt.remove(n);case 4:e.commit({type:"removeReview",reviewId:n}),r.next=11;break;case 7:throw r.prev=7,r.t0=r["catch"](1),console.log("reviewStore: Error in removeReview",r.t0),r.t0;case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()}}};n["default"].use(Xe["a"]);var Dt=new Xe["a"].Store({strict:!0,state:{toys:[],isLoading:!1,filterBy:{name:"",status:"all",label:"",sortBy:"name"}},mutations:{setLoading:function(e,t){var r=t.isLoading;e.isLoading=r},setToys:function(e,t){var r=t.toys;e.toys=r},addToy:function(e,t){var r=t.toy;e.toys.push(r)},updateToy:function(e,t){var r=t.toy,n=e.toys.findIndex((function(e){return e._id===r._id}));e.toys.splice(n,1,r)},setFilter:function(e,t){var r=t.filterBy;e.filterBy=r},removeToy:function(e,t){var r=t.toyId,n=e.toys.findIndex((function(e){return e._id===r}));e.toys.splice(n,1)}},actions:{loadToys:function(e){return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r({type:"setLoading",isLoading:!0}),t.prev=2,t.next=5,I.query();case 5:n=t.sent,r({type:"setToys",toys:n}),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("error while loading",t.t0),t.t0;case 13:return t.prev=13,r({type:"setLoading",isLoading:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})))()},getToyById:function(e,t){var r=t.toyId;return I.getById(r)},addToy:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toy,r.prev=2,o.createdAt=Date.now(),r.next=6,I.save(o);case 6:return s=r.sent,n({type:"addToy",toy:s}),r.abrupt("return",s);case 11:throw r.prev=11,r.t0=r["catch"](2),console.log("error while adding a new toy ",r.t0),r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},updateToy:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toy,r.prev=2,o.createdAt=Date.now(),r.next=6,I.save(o);case 6:return s=r.sent,n({type:"updateToy",toy:s}),r.abrupt("return",s);case 11:throw r.prev=11,r.t0=r["catch"](2),console.log("error while updating a toy ",r.t0),r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})))()},removeToy:function(e,t){return Object(S["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toyId,r.prev=2,r.next=5,I.remove(o);case 5:n({type:"removeToy",toyId:o}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("error while removing",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()}},getters:{isLoading:function(e){var t=e.isLoading;return t},inStockNum:function(e){var t=0;return e.toys.forEach((function(e){e.inStock&&t++})),t},toysNum:function(e){return e.toys.length},getFilteredToys:function(e){var t=e.filterBy.name,r=e.filterBy.status,n=e.filterBy.label,o=e.toys.filter((function(e){return t||"all"!==r?(t&&(e=!!e.name.toLowerCase().includes(t.toLowerCase())&&e),e?(n&&(e=!!e.labels.includes(n)&&e),e?"inStock"===r?e.inStock:"notInStock"===r?!e.inStock:e:e):e):e}));return o.sort((function(t,r){var n=e.filterBy.sortBy;if("name"===n){var o=t.name.toUpperCase(),s=r.name.toUpperCase();return o<s?-1:o>s?1:0}return"price"===n?t.price-r.price:"created"===n?t.createdAt-r.createdAt:void 0}))}},modules:{userStore:Ut,reviewStore:Ft}}),Mt=(r("27dc"),r("5c96")),qt=r.n(Mt),Gt=(r("0fae"),r("755e"));n["default"].use(qt.a),n["default"].config.productionTip=!1,n["default"].use(Gt,{load:{key:"AIzaSyAnMOpXd0LO5KueJQhD4aegzqIUAnWcgu4",libraries:"places"}}),new n["default"]({created:function(){this.$store.dispatch({type:"loadToys"})},router:Ve,store:Dt,render:function(e){return e(l)}}).$mount("#app")},"85ec":function(e,t,r){},"99f1":function(e,t,r){"use strict";r("5190")},a028:function(e,t,r){"use strict";r("d311")},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"},d311:function(e,t,r){}});
//# sourceMappingURL=app.2ae3d954.js.map